{% extends 'base.html' %}
{% load static %}

{% block content %}
	<h2>Homepage</h2>
	<p>Welcome to My GRS, {% if user.is_authenticated %}{{ user.username }}{% else %}visitor{% endif %}!</p>
	<p>Total users registred: {{ counter }}</p>

	<br> 
	<!-- src="{ static 'img/cat_1.jpg' %}" -->
	<!-- <div class="col-12 col-md-9 col-xl-8" style="margin-left: auto; margin-right: auto; display: block;">
		<div id="carouselExampleIndicators" class="carousel slide" data-ride="false">
		  <ol class="carousel-indicators">
		    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
		    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
		    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
		  </ol>
		  <div class="carousel-inner">
		    <div class="carousel-item active">
		      <img class="d-block w-100" src="{ static 'img/cat_1.jpg' %}" alt="First slide">
		      <div class="carousel-caption d-none d-md-block">
			    <h5>TITLE 01</h5>
			    <p>Description 01</p>
			  </div>
		    </div>
		    <div class="carousel-item">
		      <img class="d-block w-100" src="{ static 'img/cat_2.jpg' %}" alt="Second slide">
		      <div class="carousel-caption d-none d-md-block">
			    <h5>TITLE 02</h5>
			    <p>Description 02</p>
			  </div>
		    </div>
		    <div class="carousel-item">
		      <img class="d-block w-100" src="{ static 'img/cat_3.jpg' %}" alt="Third slide">
		      <div class="carousel-caption d-none d-md-block">
			    <h5>TITLE 03</h5>
			    <p>Description 03</p>
			  </div>
		    </div>
		  </div>
		  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
		    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
		    <span class="sr-only">Previous</span>
		  </a>
		  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
		    <span class="carousel-control-next-icon" aria-hidden="true"></span>
		    <span class="sr-only">Next</span>
		  </a>
		</div>
	</div> -->

	<br>
	{% if user.is_authenticated %}
		{% if data %}

			<div class="col-12 col-md-9 col-xl-8" style="margin-left: auto; margin-right: auto; display: block;">
				<div id="carouselMovies" class="carousel slide" data-ride="false">
				 	<ol class="carousel-indicators">
				  		{% for item in data %}
				    		<li data-target="#carouselMovies" data-slide-to="{{ forloop.counter0 }}" class="active"></li>
				    	{% endfor %}
				 	</ol>

				 	<div class="carousel-inner">
				 	{% for item in data %}
				 		{% if forloop.counter0 == 0 %}
							<div class="carousel-item active" style="background-color: black;">
								{% if item.poster == 'None' %}
									<img class="d-block w-100" style="max-width:400px; margin-left: auto; margin-right: auto;" src="{% static 'img/cat_1.jpg' %}" alt="{{ forloop.counter0 }}">
					    		{% else %}
					    			<img class="d-block w-100" style="max-width:400px; margin-left: auto; margin-right: auto;" src="{{ item.poster }}" alt="{{ forloop.counter0 }}">
					    		{% endif %}
					    		<div class="carousel-caption d-none d-md-block">
						    		<h5>{{ item.title }}</h5>
									<p>Genres: {{ item.genres }}</p>
									<p>Year: {{ item.year }}</p>
									<p>ImdbId: {{ item.imdb_id }}</p>
									<p>ImdbLink: {{ item.imdb_link }}</p>
									<p>Poster: {{ item.poster }}</p>
									<p>YoutubeId: {{ item.youtubeId }}</p>
									<p>Tags: {{ item.tags }}</p>
						  		</div>
					    	</div>
				    	{% else %}
				    		<div class="carousel-item" style="background-color: black;">
					    		{% if item.poster == 'None' %}
									<img class="d-block w-100" style="max-width:400px; margin-left: auto; margin-right: auto;" src="{% static 'img/cat_1.jpg' %}" alt="{{ forloop.counter0 }}">
					    		{% else %}
					    			<img class="d-block w-100" style="max-width:400px; margin-left: auto; margin-right: auto;" src="{{ item.poster }}" alt="{{ forloop.counter0 }}">
					    		{% endif %}
					    		<div class="carousel-caption d-none d-md-block">
						    		<h5>{{ item.title }}</h5>
									<p>Genres: {{ item.genres }}</p>
									<p>Year: {{ item.year }}</p>
									<p>ImdbId: {{ item.imdb_id }}</p>
									<p>ImdbLink: {{ item.imdb_link }}</p>
									<p>Poster: {{ item.poster }}</p>
									<p>YoutubeId: {{ item.youtubeId }}</p>
									<p>Tags: {{ item.tags }}</p>
						  		</div>
					    	</div>
				    	{% endif %}
				    {% endfor %}
					</div>

					<a class="carousel-control-prev" href="#carouselMovies" role="button" data-slide="prev">
				    	<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				    	<span class="sr-only">Previous</span>
					</a>
					<a class="carousel-control-next" href="#carouselMovies" role="button" data-slide="next">
				    	<span class="carousel-control-next-icon" aria-hidden="true"></span>
				    	<span class="sr-only">Next</span>
					</a>
				</div>
			</div>
			
			<!-- { for item in data %}
			<ul>
				<li>MovieId: {{ item.movie_id }}</li>
				<li>Title: {{ item.title }}</li>
				<li>Genres: {{ item.genres }}</li>
				<li>Year: {{ item.year }}</li>
				<li>ImdbId: {{ item.imdb_id }}</li>
				<li>ImdbLink: {{ item.imdb_link }}</li>
				<li>Poster: {{ item.poster }}</li>
				<li>YoutubeId: {{ item.youtubeId }}</li>
				<li>Tags: {{ item.tags }}</li>
			</ul>
			<br>
			{ endfor %} -->
			
		{% endif %}
	{% endif %}
{% endblock %}